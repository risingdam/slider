(()=>{var A=(t,s,e)=>new Promise((o,r)=>{var i=c=>{try{n(e.next(c))}catch(d){r(d)}},a=c=>{try{n(e.throw(c))}catch(d){r(d)}},n=c=>c.done?o(c.value):Promise.resolve(c.value).then(i,a);n((e=e.apply(t,s)).next())});var M=t=>{let s=document.createElementNS("http://www.w3.org/2000/svg","svg"),e=s.createSVGMatrix();t.getTransform=()=>e;let o=[],r=t.save;t.save=()=>(o.push(e.translate(0,0)),r.call(t));let i=t.restore;t.restore=()=>(e=o.pop(),i.call(t));let a=t.scale;t.scale=(h,v)=>(e=e.scaleNonUniform(h,v),a.call(t,h,v));let n=t.rotate;t.rotate=h=>(e=e.rotate(h*180/Math.PI),n.call(t,h));let c=t.translate;t.translate=(h,v)=>(e=e.translate(h,v),c.call(t,h,v));let d=t.transform;t.transform=(h,v,w,S,l,u)=>{let f=s.createSVGMatrix();return f.a=h,f.b=v,f.c=w,f.d=S,f.e=l,f.f=u,e=e.multiply(f),d.call(t,h,v,w,S,l,u)};let y=t.setTransform;t.setTransform=(h,v,w,S,l,u)=>(e.a=h,e.b=v,e.c=w,e.d=S,e.e=l,e.f=u,y.call(t,h,v,w,S,l,u));let b=s.createSVGPoint();t.transformedPoint=(h,v)=>(b.x=h,b.y=v,b.matrixTransform(e.inverse()))},N=(t,s)=>A(void 0,null,function*(){if(!t||!s)return;let e=I("canvas",["image-pan","image-zoom"]);if(t.querySelector(".slider-wrapper").prepend(e),!e)return;e.width=e.scrollWidth,e.height=e.scrollHeight;let r=new Image;r.src=s,yield r.decode();let i=e.getContext("2d");M(i);let a=()=>{let l=i.transformedPoint(0,0),u=i.transformedPoint(e.width,e.height);i.clearRect(l.x,l.y,u.x-l.x,u.y-l.y),i.save(),i.setTransform(1,0,0,1,0,0),i.clearRect(0,0,e.width,e.height),i.restore();let f=Math.min(e.width/r.width,e.height/r.height);i.scale(f,f),i.drawImage(r,e.width-r.width*f,e.height-r.height*f),i.scale(1/f,1/f)};a();let n=e.width/2,c=e.height/2,d,y;e.classList.add("visible"),document.body.classList.add("disable-touch"),e.addEventListener("mousedown",l=>{n=l.offsetX||l.pageX-e.offsetLeft,c=l.offsetY||l.pageY-e.offsetTop,e.style.cursor=e.style.cursor!=="grabbing"&&"grabbing",d=i.transformedPoint(n,c),y=!1},{passive:!1}),e.addEventListener("mousemove",l=>{if(n=l.offsetX||l.pageX-e.offsetLeft,c=l.offsetY||l.pageY-e.offsetTop,y=!0,d){let u=i.transformedPoint(n,c);i.translate(u.x-d.x,u.y-d.y),a()}},{passive:!1}),e.addEventListener("mouseup",l=>{d=null,e.style.cursor=e.style.cursor!=="grab"&&"grab",y||h(l.shiftKey?1:-1)},{passive:!1}),e.addEventListener("touchstart",l=>{let u=b(e,l),f=new MouseEvent("mousedown",{clientX:u.x,clientY:u.y});e.dispatchEvent(f)},{passive:!0}),e.addEventListener("touchmove",l=>{let u=l.touches[0],f=new MouseEvent("mousemove",{clientX:u.clientX,clientY:u.clientY});e.dispatchEvent(f)},{passive:!0}),e.addEventListener("touchend",()=>{let l=new MouseEvent("mouseup",{});e.dispatchEvent(l)},{passive:!1});let b=(l,u)=>{var f=l.getBoundingClientRect();return{x:u.touches[0].clientX-f.left,y:u.touches[0].clientY-f.top}},h=l=>{let u=i.transformedPoint(n,c);i.translate(u.x,u.y);let f=i.getTransform(),g=f.a,P=f.b,O=f.c,q=f.d,D=f.e,K=f.f;g<=.1?(g=.1,q=.1):g>=3&&(g=3,q=3),i.setTransform(g,P,O,q,D,K);let E=Math.pow(.5,l);g>=.1||g<=3?i.scale(E,E):i.scale(0,0),i.translate(-u.x,-u.y),a()},v=l=>{l.preventDefault();let u=l.wheelDelta?l.wheelDelta/1500:l.detail?-l.detail:0;u&&h(u)};e.addEventListener("wheel",v,{passive:!1}),new ResizeObserver(()=>{S(e)}).observe(t);let S=l=>{l.width=l.scrollWidth,l.height=l.scrollHeight,a()}}),C=N;var X=t=>{if(t)for(let s of t){if(s.hasAttribute("data-disable-observers"))continue;let o=s.querySelectorAll(".swiffy-slider .slider-nav");if(!o)continue;new ResizeObserver(()=>{a()}).observe(s),new MutationObserver(n=>{if(n[0].type==="attributes"){a();return}}).observe(s,{attributes:!0});let a=()=>{let n=s.querySelectorAll(".slide").length||0;(s.querySelectorAll(".slide.slide-visible").length||0)<n?o.forEach(d=>d.classList.add("visible")):o.forEach(d=>d.classList.remove("visible"))};a()}},k=X;var p=function(){return{version:"1.6.0",init(t=document.body){for(let s of t.querySelectorAll(".swiffy-slider"))this.initSlider(s)},initSlider(t){for(let s of t.querySelectorAll(".slider-nav")){let e=s.classList.contains("slider-nav-next");s.addEventListener("click",()=>this.slide(t,e),{passive:!0})}for(let s of t.querySelectorAll(".slider-indicators"))s.addEventListener("click",()=>this.slideToByIndicator()),this.onSlideEnd(t,()=>this.handleIndicators(t),60);if(t.classList.contains("slider-nav-autoplay")){let s=t.getAttribute("data-slider-nav-autoplay-interval")?t.getAttribute("data-slider-nav-autoplay-interval"):2500;this.autoPlay(t,s,t.classList.contains("slider-nav-autopause"))}if(["slider-nav-autohide","slider-nav-animation"].some(s=>t.classList.contains(s))){let s=t.getAttribute("data-slider-nav-animation-threshold")?t.getAttribute("data-slider-nav-animation-threshold"):.3;this.setVisibleSlides(t,s)}},setVisibleSlides(t,s=.3){let e=new IntersectionObserver(o=>{o.forEach(r=>{r.isIntersecting?r.target.classList.add("slide-visible"):r.target.classList.remove("slide-visible")}),t.querySelector(".slider-container>*:first-child").classList.contains("slide-visible")?t.classList.add("slider-item-first-visible"):t.classList.remove("slider-item-first-visible"),t.querySelector(".slider-container>*:last-child").classList.contains("slide-visible")?t.classList.add("slider-item-last-visible"):t.classList.remove("slider-item-last-visible")},{root:t.querySelector(".slider-container"),threshold:s});for(let o of t.querySelectorAll(".slider-container>*"))e.observe(o)},slide(t,s=!0){let e=t.querySelector(".slider-container"),o=t.classList.contains("slider-nav-page"),r=t.classList.contains("slider-nav-noloop"),i=t.classList.contains("slider-nav-nodelay"),a=e.children,n=parseInt(window.getComputedStyle(e).columnGap),c=a[0].offsetWidth+n,d=s?e.scrollLeft+c:e.scrollLeft-c;o&&(d=s?e.scrollLeft+e.offsetWidth:e.scrollLeft-e.offsetWidth),e.scrollLeft<1&&!s&&!r&&(d=e.scrollWidth-e.offsetWidth),e.scrollLeft>=e.scrollWidth-e.offsetWidth&&s&&!r&&(d=0),e.scroll({left:d,behavior:i?"auto":"smooth"})},slideToByIndicator(){let t=window.event.target,s=Array.from(t.parentElement.children).indexOf(t),e=t.parentElement.children.length,o=t.closest(".swiffy-slider"),i=o.querySelector(".slider-container").children.length/e*s;this.slideTo(o,i)},slideTo(t,s){let e=t.querySelector(".slider-container"),o=parseInt(window.getComputedStyle(e).columnGap),r=e.children[0].offsetWidth+o,i=t.classList.contains("slider-nav-nodelay");e.scroll({left:r*s,behavior:i?"auto":"smooth"})},onSlideEnd(t,s,e=125){let o;t.querySelector(".slider-container").addEventListener("scroll",function(){window.clearTimeout(o),o=setTimeout(s,e)},{capture:!1,passive:!0})},autoPlay(t,s,e){s=s<750?750:s;let o=setInterval(()=>this.slide(t),s),r=()=>this.autoPlay(t,s,e);return e&&(["mouseover","touchstart"].forEach(function(i){t.addEventListener(i,function(){window.clearTimeout(o)},{once:!0,passive:!0})}),["mouseout","touchend"].forEach(function(i){t.addEventListener(i,function(){r()},{once:!0,passive:!0})})),o},handleIndicators(t){if(!t)return;let s=t.querySelector(".slider-container"),e=s.scrollWidth-s.offsetWidth,o=s.scrollLeft/e;for(let r of t.querySelectorAll(".slider-indicators")){let i=r.children,a=Math.abs(Math.round((i.length-1)*o));for(let n of i)n.classList.remove("active");i[a].classList.add("active")}}}}();var m={initKeydownListener:!1,initEscapeKeyListener:!1,currentSlider:null,activeSlide:0},L=(t,s)=>{let e=document.createElement(t);return typeof s=="string"?e.classList.add(s):e.classList.add(...s),e},T=t=>{m.currentSlider=t,!m.initKeydownListener&&(window.addEventListener("keydown",s=>{if(s.srcElement!==document.body)return;let e=s.key,o=s.altKey,r=s.which;if(e==="ArrowRight"||e==="PageDown")s.preventDefault(),p.slide(m.currentSlider,!0);else if(e==="ArrowLeft"||e==="PageUp")s.preventDefault(),p.slide(m.currentSlider,!1);else if(e==="ArrowUp"||e==="Home")s.preventDefault(),p.slideTo(m.currentSlider,0);else if(e==="ArrowDown"||e==="End"){s.preventDefault();let i=m.currentSlider.querySelectorAll(".slide").length;i&&p.slideTo(m.currentSlider,i)}else if(r>=96&&r<=105)s.preventDefault(),p.slideTo(m.currentSlider,s.which-96);else if(r>=48&&r<=57)s.preventDefault(),p.slideTo(m.currentSlider,s.which-48);else if(r===70&&o){s.preventDefault();let i=m.currentSlider.querySelector(".action.enlarge");i&&i.click()}else if(r===90&&o){s.preventDefault();let i=m.currentSlider.querySelector(".action.zoom-in");i&&i.click()}}),m.initKeydownListener=!0)},Y=t=>{m.initEscapeKeyListener||(window.addEventListener("keydown",s=>{if(s.srcElement===document.body&&s.key==="Escape"&&document.body.classList.contains("fullscreen")){let e=t.querySelector(".action.close");e&&e.click()}}),m.initEscapeKeyListener=!0)},V=t=>{document.body.onfullscreenchange=()=>{if(window.screen.availHeight!==window.innerHeight||window.screen.availWidth!==window.innerWidth){let s=t.querySelector(".action.close");s&&s.click()}}},Z=t=>{let s=t.querySelector(".slider-indicators");if(!s)return;let e=t.querySelectorAll(".slide").length;if(e){for(let o=0;o<e;o++){let r=L("button","indicator");o===0&&r.classList.add("active"),s.appendChild(r)}s.classList.add("visible")}},F=(t,s,e)=>A(void 0,null,function*(){let o=t.querySelector(".action.enlarge");o&&(yield o.addEventListener("click",()=>A(void 0,null,function*(){let r=L("div",["container",e,"fullscreen"]),i=L("div","row"),a=L("div",["column","slider"]),n=L("button",["action","close"]),c=L("span",["tooltip","tooltip--bottom","tooltip--fade-in"]);c.innerText="Close";let d=t.querySelector(".slider-thumbnails");d&&a.appendChild(d.cloneNode(!0));let y=t.querySelector(".slider-wrapper");y&&a.appendChild(y.cloneNode(!0)),i.appendChild(a),r.appendChild(i),n.appendChild(c),r.appendChild(n),document.body.appendChild(r);let b=r.querySelector(".swiffy-slider");b.classList.remove("slider-nav-mousedrag");let h=b.hasAttribute("data-enable-keyboard-nav"),v=document.querySelector(".container."+e+".fullscreen"),w=b.hasAttribute("data-enable-zoom");d&&z(r,b),p.initSlider(b),p.slideTo(b,m.activeSlide?m.activeSlide:0),document.body.classList.add("fullscreen"),document.fullscreenEnabled&&(document.fullscreenElement?document.exitFullscreen():yield v.requestFullscreen()),h&&T(b),n.addEventListener("click",()=>{document.fullscreenEnabled&&document.fullscreenElement&&document.exitFullscreen(),p.slideTo(s,m.activeSlide?m.activeSlide:0),r.remove(),h&&T(s),document.body.classList.remove("fullscreen","disable-touch")}),Y(v),V(v),w&&W(v,b)})),o.classList.add("visible"))}),z=(t,s)=>{let e=s.hasAttribute("data-thumbnail-load"),o=t.querySelector(".slider-thumbnails ul");if(!o)return;let r=o.querySelectorAll("li"),i=2;if(e){let a=parseInt(s.getAttribute("data-thumbnail-load"));a>=i&&(i=a)}p.onSlideEnd(t,()=>{let a=t.querySelectorAll(".slider-container li");for(let[n,c]of Array.from(a).entries())r[n].classList.remove("active"),c.classList.contains("slide-visible")&&(r[n].classList.add("active"),m.activeSlide=n,i!==0&&n>=i-1&&(r[n].removeAttribute("data-count"),r.forEach(d=>{d.classList.add("visible")})),r[n].parentNode.scrollTop=r[n].offsetTop,i!==0&&n>=i-1&&r[n].parentNode.classList.add("scroll"))},25);for(let[a,n]of Array.from(r).entries())a===0&&n.classList.add("active"),i||(n.classList.add("visible"),n.removeAttribute("data-count")),a<i&&n.classList.add("visible"),a+1===i&&r.length!==i&&n.setAttribute("data-count","+"+(r.length-i)),n.addEventListener("click",()=>{if(a+1===i)for(let c of r)c.classList.add("visible"),c.removeAttribute("data-count");p.slideTo(t,a),m.activeSlide=a});i||o.classList.add("scroll")},W=(t,s)=>{let e=t.querySelector(".action.zoom-in");e&&(e.addEventListener("click",()=>{if(e.classList.contains("zoom-out"))e.classList.remove("zoom-out"),t.querySelector(".image-pan.image-zoom").remove();else{let r=s.querySelector(".slide-visible img");C(t,r.src),e.classList.add("zoom-out")}}),e.classList.add("visible"))},R=()=>{let t=document.querySelectorAll(".slider");if(!t)return;for(let e of t){let o=e.querySelector(".swiffy-slider");if(!o)continue;let r=o.hasAttribute("data-enable-indicators"),i=e.querySelector(".slider-thumbnails"),a=o.hasAttribute("data-enable-zoom"),n=o.hasAttribute("data-enable-fullscreen"),c=o.hasAttribute("data-enable-keyboard-nav"),d=o.getAttribute("data-container-class");r&&Z(o),i&&z(e,o),a&&W(e,o),n&&F(e,o,d),c&&T(o),p.initSlider(o)}let s=setTimeout(()=>{k(t),clearTimeout(s)},500)};window.swiffyslider=p;R();var I=L;})();
